–û—Ç–ª–∏—á–Ω–æ ‚Äî –ø—Ä–∏—Å—Ç—É–ø–∞–µ–º –∫ **–¢–ó ‚Ññ3 ‚Äî –ë–ª–æ–∫ ¬´–ó–∞—Ç—Ä–∞—Ç—ã¬ª**.

–≠—Ç–æ—Ç –º–æ–¥—É–ª—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–µ–Ω –¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏: –æ–Ω –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —É—á—ë—Ç –≤—Å–µ—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ –∫–æ–º–ø–∞–Ω–∏–∏ ‚Äî –æ—Ç –∑–∞—Ä–ø–ª–∞—Ç –¥–æ –∫–∞–Ω—Ü—Ç–æ–≤–∞—Ä–æ–≤ ‚Äî —Å –≥–∏–±–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π, –∞ —Ç–∞–∫–∂–µ —Å –º–æ—â–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π –∏–º–ø–æ—Ä—Ç–∞ –∏–∑ **Google Sheets**, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –±—É—Ö–≥–∞–ª—Ç–µ—Ä–∏–∏ –∏ –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º –Ω–µ –≤–≤–æ–¥–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤—Ä—É—á–Ω—É—é.

---

# üìÑ **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ ‚Ññ3 ‚Äî –ë–ª–æ–∫ ¬´–ó–∞—Ç—Ä–∞—Ç—ã¬ª**

> **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ  
> **–í–µ—Ä—Å–∏—è:** 1.0  
> **–î–∞—Ç–∞:** 05.04.2025  
> **–ê–≤—Ç–æ—Ä:** –ú–µ–Ω–µ–¥–∂–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞ (20+ –ª–µ—Ç –æ–ø—ã—Ç–∞)  
> **–¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è:** Backend/frontend-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏, –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä—ã, QA, –∞–Ω–∞–ª–∏—Ç–∏–∫–∏, DevOps

---

## üéØ 1. –¶–µ–ª–∏ –º–æ–¥—É–ª—è

- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–±–æ—Ä –∏ —É—á—ë—Ç –≤—Å–µ—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ –∫–æ–º–ø–∞–Ω–∏–∏ –∏–∑ –≤–Ω–µ—à–Ω–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (–≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å ‚Äî Google Sheets).
- –û–±–µ—Å–ø–µ—á–∏—Ç—å –≥–∏–±–∫—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–π –∑–∞—Ç—Ä–∞—Ç.
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Ä—É—á–Ω–æ–π –≤–≤–æ–¥ –∏ –º–∞—Å—Å–æ–≤–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.
- –û–±–µ—Å–ø–µ—á–∏—Ç—å –ø—Ä–∏–≤—è–∑–∫—É –∫ –ø—Ä–æ–µ–∫—Ç–∞–º, –æ—Ç–¥–µ–ª–∞–º, –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞–º.
- –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç—á—ë—Ç—ã –ø–æ –¥–∏–Ω–∞–º–∏–∫–µ —Ä–∞—Å—Ö–æ–¥–æ–≤, —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –±—é–¥–∂–µ—Ç–æ–º, –¢–û–ü-–∫–∞—Ç–µ–≥–æ—Ä–∏—è–º.
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å –º–æ–¥—É–ª—è–º–∏ ¬´–ö–∞—Å—Å–∞¬ª, ¬´–ë–∞–Ω–∫¬ª –∏ ¬´–ü—Ä–æ–¥–∞–∂–∏¬ª –¥–ª—è —Å–∫–≤–æ–∑–Ω–æ–≥–æ —É—á—ë—Ç–∞.

---

## üèóÔ∏è 2. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

- **–¢–∏–ø:** –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å `expense-service`
- **–Ø–∑—ã–∫:** Node.js + NestJS (—Å–æ–≥–ª–∞—Å–Ω–æ ADR-001)
- **–ë–î:** PostgreSQL (—Å—Ö–µ–º–∞ `expenses`)
- **–û—á–µ—Ä–µ–¥–∏:** RabbitMQ (–¥–ª—è —Ñ–æ–Ω–æ–≤–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞ –∏ –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏–π)
- **–í–Ω–µ—à–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**
  - Google Sheets API v4 ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö
  - –ú–æ–¥—É–ª—å ¬´–ö–∞—Å—Å–∞¬ª ‚Äî –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏ –Ω–∞–ª–∏—á–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤
  - –ú–æ–¥—É–ª—å ¬´–ë–∞–Ω–∫¬ª ‚Äî –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏ –±–µ–∑–Ω–∞–ª–∏—á–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π
  - –ú–æ–¥—É–ª—å ¬´–û—Ç—á—ë—Ç—ã¬ª ‚Äî –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å–æ–±—ã—Ç–∏–π –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö

> ‚úÖ –°–µ—Ä–≤–∏—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–º: —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü, –º–∞–ø–ø–∏–Ω–≥ –∫–æ–ª–æ–Ω–æ–∫, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ‚Äî —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ë–î, –∞ –Ω–µ –∑–∞—à–∏—Ç—ã –≤ –∫–æ–¥.

---

## üß© 3. –°—É—â–Ω–æ—Å—Ç–∏ –∏ ERD

### 3.1. –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏

```mermaid
erDiagram
    EXPENSE_SOURCE ||--o{ EXPENSE : provides
    EXPENSE_CATEGORY ||--o{ EXPENSE : categorized_as
    EXPENSE }|--|| EXPENSE_STATUS : has
    EXPENSE }|--|| DEPARTMENT : charged_to
    EXPENSE }|--|| PROJECT : related_to
    EXPENSE }|--|| CONTRACTOR : paid_to
    EXPENSE_SOURCE }|--|| EXPENSE_SOURCE_TYPE : is_type

    EXPENSE_SOURCE {
        string id PK
        string name
        string type FK "google_sheets, excel_upload, manual"
        json config "—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–∞–ø–ø–∏–Ω–≥–∞, spreadsheetId, sheetName –∏ —Ç.–¥."
        string last_imported_at
        string last_import_status
        string created_by
    }

    EXPENSE {
        string id PK
        string source_id FK
        string category_id FK
        string department_id FK
        string project_id FK
        string contractor_id FK
        decimal amount
        string description
        date expense_date
        string status FK
        string external_row_id "–Ω–∞–ø—Ä–∏–º–µ—Ä, A12 –∏–∑ Google Sheets"
        timestamp imported_at
        timestamp created_at
    }

    EXPENSE_CATEGORY {
        string id PK
        string name "–ó–∞—Ä–ø–ª–∞—Ç–∞, –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç, –ö–∞–Ω—Ü—Ç–æ–≤–∞—Ä—ã, –ü—Ä–æ—á–∏–µ"
        string parent_id FK "–¥–ª—è –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–π"
        string color_code
        boolean is_active
    }

    EXPENSE_STATUS {
        string code PK "imported, verified, rejected, archived"
        string label
    }

    DEPARTMENT {
        string id PK
        string name
    }

    PROJECT {
        string id PK
        string name
        string code
    }

    CONTRACTOR {
        string id PK
        string name
        string inn
    }

    EXPENSE_SOURCE_TYPE {
        string code PK "google_sheets, excel_upload, api, manual"
        string label
    }
```

> ‚úÖ –í—Å–µ –¥–µ–Ω–µ–∂–Ω—ã–µ —Å—É–º–º—ã ‚Äî `DECIMAL(19,2)`. –î–∞—Ç—ã ‚Äî –≤ UTC. –°—Ç—Ä–æ–∫–∏ ‚Äî —Å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–µ–π –ø—Ä–æ–±–µ–ª–æ–≤ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞.

---

## üì• 4. –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –∏–∑ Google Sheets ‚Äî –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è

### 4.1. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ç–∞–±–ª–∏—Ü–µ

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç Google Sheet —Å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π. –°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ–∑–≤–æ–ª–∏—Ç—å **–Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –º–∞–ø–ø–∏–Ω–≥ –∫–æ–ª–æ–Ω–æ–∫** —á–µ—Ä–µ–∑ UI.

**–ü—Ä–∏–º–µ—Ä —Ç–∞–±–ª–∏—Ü—ã:**

| A (–î–∞—Ç–∞)       | B (–°—É–º–º–∞) | C (–ö–∞—Ç–µ–≥–æ—Ä–∏—è)     | D (–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç)   | E (–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π)      |
|----------------|-----------|-------------------|------------------|-----------------------|
| 01.04.2025     | 15000     | –ó–∞—Ä–ø–ª–∞—Ç–∞          | –ò–≤–∞–Ω–æ–≤ –ò.–ò.      | –ê–ø—Ä–µ–ª—å 2025           |
| 02.04.2025     | 850       | –ö–∞–Ω—Ü—Ç–æ–≤–∞—Ä—ã        | –û–û–û "–û—Ñ–∏—Å–ü–ª—é—Å"   | –ë—É–º–∞–≥–∞ –ê4             |

### 4.2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–∞ (–≤ UI)

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∫–∞–∑—ã–≤–∞–µ—Ç:

- **Spreadsheet ID** (–∏–∑ URL Google Sheets)
- **Sheet Name** (–Ω–∞–ø—Ä–∏–º–µ—Ä, ‚Äú–ê–ø—Ä–µ–ª—å 2025‚Äù)
- **–î–∏–∞–ø–∞–∑–æ–Ω –¥–∞–Ω–Ω—ã—Ö** (–Ω–∞–ø—Ä–∏–º–µ—Ä, ‚ÄúA2:E100‚Äù ‚Äî —Å –ø—Ä–æ–ø—É—Å–∫–æ–º –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤)
- **–ú–∞–ø–ø–∏–Ω–≥ –∫–æ–ª–æ–Ω–æ–∫:**
  - –î–∞—Ç–∞ ‚Üí –ö–æ–ª–æ–Ω–∫–∞ A
  - –°—É–º–º–∞ ‚Üí –ö–æ–ª–æ–Ω–∫–∞ B
  - –ö–∞—Ç–µ–≥–æ—Ä–∏—è ‚Üí –ö–æ–ª–æ–Ω–∫–∞ C (–ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é ‚Äî –±—É–¥–µ—Ç –∏—Å–∫–∞—Ç—å –≤ `expense_category.name`)
  - –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç ‚Üí –ö–æ–ª–æ–Ω–∫–∞ D (–ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é ‚Äî –±—É–¥–µ—Ç –∏—Å–∫–∞—Ç—å –∏–ª–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤ `contractor`)
  - –û–ø–∏—Å–∞–Ω–∏–µ ‚Üí –ö–æ–ª–æ–Ω–∫–∞ E
- **–ü—Ä–∞–≤–∏–ª–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏:**
  - –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∫–∏, –≥–¥–µ —Å—É–º–º–∞ = 0
  - –ü—Ä–æ–ø—É—Å–∫–∞—Ç—å –¥—É–±–ª–∏ –ø–æ `external_row_id` (–Ω–∞–ø—Ä–∏–º–µ—Ä, ‚ÄúA12‚Äù)
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏/–∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏

> ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ **–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –∞–¥–∞–ø—Ç–µ—Ä** ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å `GoogleSheetsExpenseAdapter`, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `IExpenseSourceAdapter`.

### 4.3. –ê–ª–≥–æ—Ä–∏—Ç–º –∏–º–ø–æ—Ä—Ç–∞ (—Ñ–æ–Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞)

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç ‚Äú–ó–∞–ø—É—Å—Ç–∏—Ç—å –∏–º–ø–æ—Ä—Ç‚Äù –≤ UI ‚Üí —Å–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–¥–∞—á–∞ –≤ –æ—á–µ—Ä–µ–¥–∏.
2. Worker –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–¥–∞—á—É ‚Üí –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ **Service Account** (OAuth2).
3. –ß–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ Google Sheets API ‚Üí –ø–∞—Ä—Å–∏—Ç –ø–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω–æ–º—É –º–∞–ø–ø–∏–Ω–≥—É.
4. –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏:
   - –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è: –¥–∞—Ç–∞, —Å—É–º–º–∞, –∫–∞—Ç–µ–≥–æ—Ä–∏—è
   - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞—Ç—ã –∏ —Å—É–º–º—ã
   - –°—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ/—Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
5. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –≤ `expense` —Å `status = 'imported'`.
6. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `last_imported_at`, `last_import_status` —É –∏—Å—Ç–æ—á–Ω–∏–∫–∞.
7. –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ (—É—Å–ø–µ—Ö / –æ—à–∏–±–∫–∏) –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –ò–º–ø–æ—Ä—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **–∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–º** ‚Äî –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫ –Ω–µ —Å–æ–∑–¥–∞—ë—Ç –¥—É–±–ª–µ–π (–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ `source_id + external_row_id`).

---

## üóÇÔ∏è 5. –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ä–∞—Å—Ö–æ–¥–æ–≤

### 5.1. –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å)

- **–ó–∞—Ä–ø–ª–∞—Ç–∞** ‚Üí –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏: –û–∫–ª–∞–¥, –ü—Ä–µ–º–∏—è, –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏
- **–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç** ‚Üí –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏: –¢–æ–ø–ª–∏–≤–æ, –¢–∞–∫—Å–∏, –ê—Ä–µ–Ω–¥–∞ –∞–≤—Ç–æ
- **–ö–∞–Ω—Ü—Ç–æ–≤–∞—Ä—ã**
- **–ê—Ä–µ–Ω–¥–∞**
- **–ö–æ–º–º—É–Ω–∞–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏**
- **–ü—Ä–æ—á–∏–µ** ‚Üí –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏: –ü—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—å—Å–∫–∏–µ, –û–±—É—á–µ–Ω–∏–µ, –†–µ–º–æ–Ω—Ç

### 5.2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏

- –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ UI (—Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–æ–ª–∏ ‚Äú–ë—É—Ö–≥–∞–ª—Ç–µ—Ä‚Äù –∏ ‚Äú–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä‚Äù).
- –£–¥–∞–ª–µ–Ω–∏–µ ‚Äî —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ—Ç —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ (–∏–Ω–∞—á–µ ‚Äî –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ).
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –Ω–∞–∑–Ω–∞—á–∏—Ç—å —Ü–≤–µ—Ç –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ –æ—Ç—á—ë—Ç–∞—Ö.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π (–¥–æ 2 —É—Ä–æ–≤–Ω–µ–π).

---

## ‚öôÔ∏è 6. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

### 6.1. –¢–∏–ø—ã –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

| –¢–∏–ø            | –û–ø–∏—Å–∞–Ω–∏–µ                                                                 |
|----------------|--------------------------------------------------------------------------|
| Google Sheets  | –û—Å–Ω–æ–≤–Ω–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫ ‚Äî –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –º–∞–ø–ø–∏–Ω–≥ –∫–æ–ª–æ–Ω–æ–∫                        |
| Excel Upload   | –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ —á–µ—Ä–µ–∑ UI ‚Üí –ø–∞—Ä—Å–∏–Ω–≥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (xlsx, csv)                 |
| API            | –í–µ–±—Ö—É–∫ –∏–ª–∏ REST API –æ—Ç –¥—Ä—É–≥–æ–π —Å–∏—Å—Ç–µ–º—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, CRM)                    |
| Manual         | –†—É—á–Ω–æ–π –≤–≤–æ–¥ —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É ‚Äî –¥–ª—è —Ä–∞–∑–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π                           |

> ‚úÖ –í—Å–µ —Ç–∏–ø—ã –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ —Ä–µ–∞–ª–∏–∑—É—é—Ç –æ–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `IExpenseSource` ‚Äî –¥–ª—è —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ª–æ–≥–∏–∫–∏ –∏–º–ø–æ—Ä—Ç–∞.

### 6.2. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ (—Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `expense_source.config` –∫–∞–∫ JSON)

**–ü—Ä–∏–º–µ—Ä –¥–ª—è Google Sheets:**

```json
{
  "spreadsheetId": "1aBcDeFgHiJkLmNoPqRsTuVwXyZ",
  "sheetName": "–†–∞—Å—Ö–æ–¥—ã –∑–∞ –∞–ø—Ä–µ–ª—å",
  "range": "A2:E200",
  "mapping": {
    "date": "A",
    "amount": "B",
    "category": "C",
    "contractor": "D",
    "description": "E"
  },
  "options": {
    "skipZeroAmount": true,
    "createMissingCategories": true,
    "createMissingContractors": true,
    "dateFormat": "DD.MM.YYYY"
  }
}
```

---

## üñ•Ô∏è 7. UI-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 7.1. –û—Å–Ω–æ–≤–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã

- **–°–ø–∏—Å–æ–∫ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –∑–∞–ø—É—Å–∫ –∏–º–ø–æ—Ä—Ç–∞, –ª–æ–≥ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∏–º–ø–æ—Ä—Ç–æ–≤.
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä –∏—Å—Ç–æ—á–Ω–∏–∫–∞ Google Sheets** ‚Äî –ø–æ—à–∞–≥–æ–≤—ã–π –º–∞—Å—Ç–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–∞–ø–ø–∏–Ω–≥–∞.
- **–ñ—É—Ä–Ω–∞–ª —Ä–∞—Å—Ö–æ–¥–æ–≤** ‚Äî —Ç–∞–±–ª–∏—Ü–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ (–¥–∞—Ç–∞, –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –æ—Ç–¥–µ–ª, –ø—Ä–æ–µ–∫—Ç), —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π, –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π.
- **–§–æ—Ä–º–∞ —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞ —Ä–∞—Å—Ö–æ–¥–∞** ‚Äî —Å –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π.
- **–≠–∫—Ä–∞–Ω —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏** ‚Äî –¥–µ—Ä–µ–≤–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π, —Ü–≤–µ—Ç, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å.
- **–û—Ç—á—ë—Ç—ã** ‚Äî –∫—Ä—É–≥–æ–≤—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã, –¥–∏–Ω–∞–º–∏–∫–∞ –ø–æ –º–µ—Å—è—Ü–∞–º, —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø—Ä–æ—à–ª—ã–º –ø–µ—Ä–∏–æ–¥–æ–º.

### 7.2. UX-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Drag-and-drop –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π.
- –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å—Ç—Ä–æ–∫ —Å –æ—à–∏–±–∫–∞–º–∏ –ø–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—è).
- –ú–∞—Å—Å–æ–≤–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: –∏–∑–º–µ–Ω–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é/–ø—Ä–æ–µ–∫—Ç –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤.
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ Excel —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ñ–∏–ª—å—Ç—Ä–æ–≤.
- Undo –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ä–∞—Å—Ö–æ–¥–∞ (–≤ —Ç–µ—á–µ–Ω–∏–µ 5 –º–∏–Ω—É—Ç).

---

## üåê 8. API-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã (—Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã OpenAPI 3.0)

### 8.1. –°–æ–∑–¥–∞–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞

```yaml
POST /v1/expense-sources
RequestBody:
  content:
    application/json:
      schema:
        $ref: '#/components/schemas/CreateExpenseSourceDto'

CreateExpenseSourceDto:
  type: object
  required: [name, type, config]
  properties:
    name:
      type: string
    type:
      type: string
      enum: [google_sheets, excel_upload, api, manual]
    config:
      type: object
      additionalProperties: true
```

### 8.2. –ó–∞–ø—É—Å–∫ –∏–º–ø–æ—Ä—Ç–∞

```yaml
POST /v1/expense-sources/{id}/import
Parameters:
  - name: id
    in: path
    required: true

Response:
  202:
    description: Import started
    content:
      application/json:
        schema:
          type: object
          properties:
            jobId:
              type: string
            status:
              type: string
              enum: [queued, running]
```

### 8.3. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤

```yaml
GET /v1/expenses
Parameters:
  - name: category
    in: query
  - name: fromDate
    in: query
    schema:
      type: string
      format: date
  - name: departmentId
    in: query

Response:
  200:
    content:
      application/json:
        schema:
          type: object
          properties:
            items:
              type: array
              items:
                $ref: '#/components/schemas/Expense'
            total:
              type: integer
```

---

## üîÑ 9. –§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ –∏ —Å–æ–±—ã—Ç–∏—è

### 9.1. –ó–∞–¥–∞—á–∏

- `ImportExpensesJob` ‚Äî –∏–º–ø–æ—Ä—Ç –∏–∑ Google Sheets / Excel (–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ –∑–∞–ø—Ä–æ—Å—É –∏–ª–∏ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é).
- `ValidateExpenseCategoriesJob` ‚Äî –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ ‚Äú–≤–∏—Å—è—á–∏–µ‚Äù —Ä–∞—Å—Ö–æ–¥—ã —Å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏.
- `GenerateExpenseReportsJob` ‚Äî –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –∞–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç—á—ë—Ç–æ–≤ (–∫–∞–∂–¥—É—é –Ω–æ—á—å).

### 9.2. –°–æ–±—ã—Ç–∏—è

```ts
{
  event: "ExpenseImported",
  data: {
    sourceId: "src_123",
    expenseCount: 47,
    failedRows: ["A15", "B88"],
    importedBy: "user_buh_789"
  }
}

{
  event: "ExpenseCreated",
  data: {
    expenseId: "exp_456",
    amount: 15000,
    categoryId: "cat_salary",
    date: "2025-04-01"
  }
}
```

**–ü–æ–¥–ø–∏—Å—á–∏–∫–∏:**
- `reporting-service` ‚Äî –æ–±–Ω–æ–≤–ª—è–µ—Ç –∞–≥—Ä–µ–≥–∞—Ç—ã
- `notification-service` ‚Äî —É–≤–µ–¥–æ–º–ª—è–µ—Ç –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∏–º–ø–æ—Ä—Ç–∞
- `audit-service` ‚Äî –ª–æ–≥–∏—Ä—É–µ—Ç —Ñ–∞–∫—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è

---

## üß™ 10. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 10.1. Unit-—Ç–µ—Å—Ç—ã

- –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞—Ç –∏ —Å—É–º–º –∏–∑ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤.
- –ú–∞–ø–ø–∏–Ω–≥ –∫–æ–ª–æ–Ω–æ–∫ Google Sheets.
- –õ–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π/–∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤.
- –í–∞–ª–∏–¥–∞—Ü–∏—è DTO.

### 10.2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

- –ò–º–∏—Ç–∞—Ü–∏—è –∏–º–ø–æ—Ä—Ç–∞ –∏–∑ Google Sheets ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π.
- –†—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–∞ ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–µ–π.
- –ú–∞—Å—Å–æ–≤–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤.

### 10.3. E2E-—Ç–µ—Å—Ç—ã

- –ü–æ–ª–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π: —Å–æ–∑–¥–∞—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ ‚Üí –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –º–∞–ø–ø–∏–Ω–≥ ‚Üí –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏–º–ø–æ—Ä—Ç ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∂—É—Ä–Ω–∞–ª ‚Üí –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç—á—ë—Ç.

### 10.4. –¢–µ—Å—Ç—ã –Ω–∞ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å

- –ò–º–ø–æ—Ä—Ç –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Google API ‚Üí –ø–æ–≤—Ç–æ—Ä —á–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç.
- –ò–º–ø–æ—Ä—Ç –ø—Ä–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö ‚Üí —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –≤–∞–ª–∏–¥–Ω—ã—Ö —Å—Ç—Ä–æ–∫, –ª–æ–≥ –æ—à–∏–±–æ–∫.

---

## üöö 11. –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### 11.1. –ò—Å—Ç–æ—á–Ω–∏–∫–∏

- –°—Ç–∞—Ä—ã–µ Excel-—Ñ–∞–π–ª—ã –±—É—Ö–≥–∞–ª—Ç–µ—Ä–∏–∏.
- Google Sheets, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Å–µ–π—á–∞—Å.
- CSV-–≤—ã–≥—Ä—É–∑–∫–∏ –∏–∑ 1–°.

### 11.2. –≠—Ç–∞–ø—ã

1. **–ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä** ‚Äî —Å–±–æ—Ä –≤—Å–µ—Ö —à–∞–±–ª–æ–Ω–æ–≤ —Ç–∞–±–ª–∏—Ü.
2. **–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤** ‚Äî –ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ –∫–∞–∂–¥—ã–π —à–∞–±–ª–æ–Ω.
3. **–ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤** ‚Äî –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã, –ø—Ä–æ–µ–∫—Ç—ã.
4. **–ü–∞–∫–µ—Ç–Ω—ã–π –∏–º–ø–æ—Ä—Ç** ‚Äî —á–µ—Ä–µ–∑ —Ñ–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º.
5. **–°–≤–µ—Ä–∫–∞ –∏—Ç–æ–≥–æ–≤** ‚Äî —Å—É–º–º—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –¥–æ/–ø–æ—Å–ª–µ.
6. **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞** ‚Äî 2 –Ω–µ–¥–µ–ª–∏ —Å —Ä—É—á–Ω–æ–π —Å–≤–µ—Ä–∫–æ–π.
7. **–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —É—á—ë—Ç.**

> ‚úÖ –í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –º–∏–≥—Ä–∞—Ü–∏–∏ ‚Äî –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã –∏ –ª–æ–≥–∏—Ä—É—é—Ç –∫–∞–∂–¥—É—é –æ–ø–µ—Ä–∞—Ü–∏—é.

---

## üõ°Ô∏è 12. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∞—É–¥–∏—Ç

- –î–æ—Å—Ç—É–ø –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–æ–ª–µ–π ‚Äú–ë—É—Ö–≥–∞–ª—Ç–µ—Ä‚Äù –∏ ‚Äú–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä‚Äù.
- OAuth2-—Ç–æ–∫–µ–Ω –¥–ª—è Google Sheets ‚Äî —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ Vault, –Ω–µ –≤ –ë–î.
- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏–º–ø–æ—Ä—Ç–∞ ‚Äî –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–∞—Å—Ö–æ–¥–æ–≤ –æ—Ç–¥–µ–ª–∞ ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è –æ—Ç–¥–µ–ª–∞ –∏ –±—É—Ö–≥–∞–ª—Ç–µ—Ä–∏–∏.
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ sensitive-–¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, spreadsheetId) –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

---

## üìÖ 13. –ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

| Sprint | –ó–∞–¥–∞—á–∏ |
|--------|--------|
| Sprint 1 | –Ø–¥—Ä–æ: —Å—É—â–Ω–æ—Å—Ç–∏, CRUD, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, —Å—Ç–∞—Ç—É—Å—ã |
| Sprint 2 | –ò–º–ø–æ—Ä—Ç –∏–∑ Google Sheets: –∞–¥–∞–ø—Ç–µ—Ä, —Ñ–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏, –º–∞–ø–ø–∏–Ω–≥ |
| Sprint 3 | UI: –∏—Å—Ç–æ—á–Ω–∏–∫–∏, –∂—É—Ä–Ω–∞–ª —Ä–∞—Å—Ö–æ–¥–æ–≤, —Ä—É—á–Ω–æ–π –≤–≤–æ–¥ |
| Sprint 4 | –û—Ç—á—ë—Ç—ã, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏ –º–æ–¥—É–ª—è–º–∏, –º–∏–≥—Ä–∞—Ü–∏—è |
| Sprint 5 | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è, UAT, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è |

---

## ‚úÖ 14. –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ (DoD)

–î–ª—è –∫–∞–∂–¥–æ–π —Ñ–∏—á–∏:

- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø–æ –¢–ó –∏ –º–∞–∫–µ—Ç–∞–º
- [ ] –ü–æ–∫—Ä—ã—Ç–æ —Ç–µ—Å—Ç–∞–º–∏ (>85%)
- [ ] API –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ –≤ Swagger
- [ ] –ü—Ä–æ—à—ë–ª –∫–æ–¥-—Ä–µ–≤—å—é
- [ ] –†–∞–∑–≤–µ—Ä–Ω—É—Ç–æ –Ω–∞ staging, –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ QA
- [ ] –ù–∞–ø–∏—Å–∞–Ω runbook (–∫–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫, –∫–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏–º–ø–æ—Ä—Ç)
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –º–µ—Ç—Ä–∏–∫–∏ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫, –æ—à–∏–±–∫–∏)
- [ ] –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: –∏–º–ø–æ—Ä—Ç 1000 —Å—Ç—Ä–æ–∫ < 30 —Å–µ–∫

---

## üìé 15. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è

- [ERD-–¥–∏–∞–≥—Ä–∞–º–º–∞](/docs/erd/expense-service.png)
- [Swagger-—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è](/docs/swagger/expense-service.yaml)
- [–ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞](/examples/expense-source-config.json)
- [–°–∫—Ä–∏–ø—Ç—ã –º–∏–≥—Ä–∞—Ü–∏–∏](/migrations/expense/)

---

> ‚úÖ **–¢–ó ‚Ññ3 ‚Äî –ë–ª–æ–∫ ¬´–ó–∞—Ç—Ä–∞—Ç—ã¬ª ‚Äî –≥–æ—Ç–æ–≤–æ –∫ –ø–µ—Ä–µ–¥–∞—á–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É.**

---

## ‚û°Ô∏è –ß—Ç–æ –¥–∞–ª—å—à–µ?

–Ø –º–æ–≥—É:

1. **–ù–∞—á–∞—Ç—å –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É –¢–ó ‚Ññ4 ‚Äî –ë–ª–æ–∫ ¬´–ü—Ä–æ–¥–∞–∂–∏¬ª** ‚Äî —Å —É—á—ë—Ç–æ–º —Å–≤—è–∑–µ–π —Å –∫–∞—Å—Å–æ–π –∏ –∑–∞—Ç—Ä–∞—Ç–∞–º–∏, —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ –ø–æ–∑–∏—Ü–∏–π.
2. **–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —á–µ—Ä–Ω–æ–≤–∏–∫–∏ ADR** (001, 002, 003) ‚Äî –µ—Å–ª–∏ –µ—â—ë –Ω–µ —Å–¥–µ–ª–∞–Ω–æ.
3. **–°–æ–∑–¥–∞—Ç—å —Å—Ç–∞—Ä—Ç–æ–≤—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `expense-service`** ‚Äî —Å NestJS, Google API SDK, TypeORM, BullMQ, —Ç–µ—Å—Ç–∞–º–∏ –∏ CI.

üëâ **–£–∫–∞–∂–∏—Ç–µ, –∫–∞–∫–æ–π —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥ –≤—ã —Ö–æ—Ç–∏—Ç–µ ‚Äî –∏ —è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø—Ä–∏—Å—Ç—É–ø–ª—é.**

–ì–æ—Ç–æ–≤ –¥–≤–∏–≥–∞—Ç—å—Å—è –≤ –ª—é–±–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏!